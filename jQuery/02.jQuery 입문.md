# jajQuery 입문

아래 세 단계를 실습하며 jQuery의 기초와 관련된 JavaScript 기초를 학습해보겠다.

- CSS 스타일 변경
- 실행 시점 제어
- 애니메이션 효과 구현



## 기본 구조

```
$(HTML 요소).메서드('매개변수1', '매개변수2');
```



## 하나. CSS 스타일 변경

```
$('선택자')
```

 `$()`는 HTML 요소를 기반에 두고 jQuery의 고유 요소를 생성한다는 기능이 있는 함수이다.

`$()` 내부에 적어주는 '선택자'는 함수의 매개변수로 전달된다.

`$()`를 통해 jQuery 고유의 형식으로 변환된 요소를 '**jQuery 객체**'라고 한다.



### 스타일을 변경하는 코드

```
$('선택자').css('속성', '값');
```

선택자에 해당하는 요소의 CSS 속성을 값으로 변경한다.

css()라는 명령은 JavaScript에 정의되어 있지 않은 jQuery 명령어이다. 이러한 jQuery 명령을 '**jQuery 메서드**'라고 한다.  

위 코드는 jQuery 메서드와 2개의 매개변수로 구성되어있다. 메서드는 `.`으로 구분한다.



> 예시) #type 요소 color 변경
>
> ```javascript
> $(function() {
>     $('#typo').css('color', '#ebc000');
> })
> ```



### css() 메서드

#### 현재 속성값을 검색하는 방법

```css
$(function(){
	$('#typo').css('color');
})
```

속성명만을 지정한다. 값은 지정하지 않는다.



#### 여러 가지 속성값을 한꺼번에 변경하는 방법

##### 1) 그냥 나열하는 방법

```javascript
$(function(){
    $('#typo').css('font-size', '50px');
    $('#typo').css('background-color', '#ae5e9b');
    $('#typo').css('color', '#ebc000');
})
```



##### 2) 여러가지 속성값을 한꺼번에 변경, 작은 따옴표를 사용하는 방법

```javascript
$(function(){
    $('#typo').css({
        'font-size' : '50px',
        'background-color' : '#ae5e9b',
        'color' : 'ebc000',
    })
})
```



##### 3) 여러가지 속성값을 한꺼번에 변경, 작은 따옴표를 생략하는 방법

```javascript
$(function(){
    $('#typo').css({
        fontSize' : '50px',
        backgroundColor' : '#ae5e9b',
        color : 'ebc000',
    })
})
```





## 둘. 실행 시점 제어하기

자주 사용하는 시점은 다음과 같다.

- 특정 요소에 마우스 포인터를 올려놓은 시점
- 특정 요소에서 마우스 포인터가 벗어나는 시점
- 특정 요소를 클릭하는 시점
- 마우스를 움직이는 시점
- 창 크기가 바뀌는 시점
- 스크롤 시점



### 실행 시점을 제어하는 코드

```javascript
$('선택자').on('이벤트 타입', function(){
	// 임의 처리
})
```



### on() 메서드

on() 메서드는 이벤트(특정 사건)이 발생하는 시점에 실행할 명령을 설정하는 메서드이다.

```
on('이벤트 타입', 이벤트 핸들러);
```



#### 첫 번째 매개변수 : 이벤트 타입

| 이벤트 타입 | 해당 시점                                                    |
| ----------- | ------------------------------------------------------------ |
| mouseover   | 요소에 마우스 포인터를 올려놓았을 때                         |
| mouseout    | 요소에 마우스 포인터가 벗어날 때                             |
| mousedown   | 요소에 마우스 포인터를 올려놓은 상태에서 해당 요소 클릭      |
| mouseup     | 요소에 마우스 포인터를 올려놓은 상태에서 해당 요소를 클릭했다가 뗄 때 |
| mousemove   | 요소에 마우스 포인터를 움직일 때                             |
| click       | 요소를 클릭했을 때                                           |
| dbclick     | 요소를 더블 클릭했을 때                                      |
| keydown     | 요소에 초점을 맞춘 상태에서 키보드의 키를 눌렀을 때          |
| keyup       | 요소에 초점을 맞춘 상태에서 키보드의 키를 뗄 때              |
| focus       | 요소에 포커스가 일치했을 때(포커스가 있는 요소만)            |
| blur        | 요소가 포커스를 잃어버렸을 때(포커스가 있는 요소만)          |
| change      | 입력 내용이 변경되었을 때                                    |
| resize      | 요소의 크기를 다시 설정했을 때                               |
| scroll      | 요소를 스크롤했을 때                                         |



#### 두 번째 매개변수 : 이벤트 핸들러

기본 구조는 아래와 같다.

```javascript
function(){
	// 임의 처리 부분
}
```





## 셋. 애니메이션 효과 구현하기

### animate() 메서드

처리 대상에 애니메이션 효과를 줄 때 사용하는 메서드

```javascript
.animate({
	'CSS 속성 1': '값 1',
	'CSS 속성 2': '값 2',
	}, 애니메이션 실행 시간,
	
	// 여기부터는 선택 사항
    '이징 종류',						// 'linear' or 'swing'
    function(){
    	'애니메이션 효과 종료 시 수행할 작업'
	}
);
```



> 적용 예시
>
> ```javascript
> $(function() {
>     $('#typo .inner').on('click', function() {
>         $('#typo .inner').animate({
>             opacity: 0,
>             fontSize: '0px'
>         }, 1500)
>     })
> })
> ```



#### 첫 번째 매개변수 : 애니메이션 효과 실행 완료 시 외형을 표현하는 CSS 속성과 값

아래와 같이 객체를 사용해 CSS 속성과 속성값을 지정한다.



#### 두 번째 매개변수 : 얼마만큼 시간이 지난 후 애니메이션 효과를 적용할 시간

시간 단위는 ms(밀리초, 1/1000초)이다. 



#### 세 번째 매개변수 : 이징 종류

이징은 애니메이션 효과의 변화 속도를 의미한다.

jQuery에는 'linear(같은 속도)'와 'swing(가벼운 완급 조절)'이 있다. 생략할 경우 swing이 적용된다.

> 단, jQuery UI 확장 라이브러리를 사용하면 다양한 이징 종류를 사용할 수 있다.



#### 네 번째 매개변수 : 애니메이션 효과 종류 시 수행할 작업

메서드의 매개변수로 `function(){}`을 사용하면 된다.



> 4가지 매개변수가 모두 작성된 코드 예시
>
> ```javascript
> $(function(){
>     $('#typo .inner')
>     	.css('top','-100px')
>     	.on('click', function(){
>         	$('#typo .inner').animate({
>                 top: '100px'
>             }, 1500, 'linear',
>             function(){
>                 $('#typo .inner').animate({
>                     top: '0px'
>                 },500)
>             })
>     })
> })
> ```



### animatie() 메서드 구현 시 주의해야 할 사항

- animate() 메서드는 애니메이션 효과가 실행중인 같은 요소에 다른 animate() 메서드를 실행해도 겹치는 애니메이션 효과 실행을 취소하지 않고 대기하도록 되어있다.

  > 만약, 같은 요소에 마우스 포인터를 올려놓으면 배경색을 a로 변경하고, 마우스 포인터가 요소에서 벗어나면 배경색을 b로 변경하도록 코드를 작성한 경우
  >
  > 마우스오버와 마우스아웃을 빠르게 반복하면 애니메이션 효과가 동작하지 않는 것처럼 보인다. 이를 해결하기 위해 마우스오버를 수행한 즉시 마우스아웃을 수행했을 때, 실행 중인 마우스오버 애니메이션 효과를 취소하고 마우스아웃 애니메이션 효과를 실행하게 만드는 것이다.



#### 애니메이션 효과를 실행중에 취소하는 방법 : stop() 메서드

stop() 메서드를 사용한다. 해당 메서드는 요소에 적용된 애니메이션 효과를 중지시키는 메서드이다.

stop() 메서드는 animate() 메서드 앞에 작성해야 한다.

매개변수를 생략하면 기본값으로 'false'가 적용된다.



> 적용 예시
>
> ```javascript
> $(function(){
>     $('#typo .inner')
>     	.on('mouseover', function(){
>         $('#typo .inner').stop(true).animate({
>             backgroundColor: '#ae5e9b'
>         }, 1000);
>     });
> })
> ```





## 중요. 메서드 체인

메서드 체인이란 메서드를 체인처럼 연결해서 작성하고 실행하는 프로그램 방법이다.

```
$('선택자').메서드 A().메서드 B().메서드 C()...
```

메서드는 왼쪽부터 순차적으로 실행한다. 각 메서드의 처리 대상은 첫번째 $() 함수에서 생성되는 jQuery 객체이다.



### 메서드 체인의 장점

- $() 함수를 한번만 작성해도 되므로 코드를 단순화 할 수 있다.
- 프로그램의 처리 속도가 향상된다.



---



## jQuery의 실행 흐름

- `$()`함수에서 명령 대상이 되는 HTML 요소를 jQuery 객체로 변환
- 변환한 jQuery 객체에 메서드를 호출해 HTML 요소를 변경



## 웹 브라우저가 HTML 요소를 끝까지 읽을 것을 기다리는 구조

HTML은 작성된 순서대로 처리된다. js는 head영역에 있어, body 영역에 있는 부분을 읽어들이기 전에 실행되고 종료된다. 이 문제를 해결하기 위해 HTML 요소를 끝까지 읽은 후 실행되도록 예약 상태로 놓고, HTML 요소를 끝까지 읽어 들인 뒤 처리내용을 수행하도록 아래와 같이 작성한다.

```
$(function(){
	// HTML 요소를 로드한 후 수행할 작업
})
```

