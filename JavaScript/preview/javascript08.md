# **타입 변환과 단축 평가**

## **타입 변환이란?**
- 자바스크립트의 모든 값은 타입이 있다.
- **명시적 타입 변환, 타입 캐스팅**: 개발자가 의도적으로 값의 타입을 변경하는 것
- **암시적 타입 변환, 타입 강제 변환**: 개발자의 의도와는 상관없이 자바스크립트 엔진에 의해 암묵적으로 타입이 자동 변환되기도 하는 것
- 명시적 타입 변환과 암묵적 타입 변환 모두 기존의 값을 직접 변경하는 것은 아니다. 
- 암묵적 타입 변환은 변수의 값을 재할당해 변경하는 것이 아닌 단지 자바스크립트 엔진이 표현식을 에러없이 평가하기 위해 피수산자의 값을 바탕으로 새로운 타입의 값을 만들어 단 한번 사용하고 버린다.

## **암묵적 타입 변환**

- 피연산자가 모두 문자열 타입이여야하는 문맥
  - 문자열 연결 연산자
- ES6에서 도입된 템플릿 리터럴의 문자열 인터폴레이션
- 피연산자가 모두 숫자 타입이어야하는 문맥
  - 빈 문자열(‘’), 빈 배열([]), null, false는 0으로, true는 1로 변환된다. 객체와 빈 배열이 아닌 배열, undefined는 변환되지 않아 NaN이 된다는 것에 주의
- 피연산자 또는 표현식이 불리언 타입이여야 하는 문맥
  - 자바스크립트 엔진은 불리언 타입이 아닌 값을 Truthy 값(참으로 인식할 값) 또는 Falsy 값(거짓으로 인식할 값)으로 구분

## **명시적 타입 변환**
- 표준 빌트인 생성자 함수를 new 연산자 없이 호출하는 방법
- 자바스크립트에서 제공하는 빌트인 메소드를 사용하는 방법
- 암묵적 타입 변환을 이용하는 방법

> **래퍼 객체**  
원시 값 Number, String, Boolean을 객체 처럼 사용하면 자바스크립트 엔진은 원시값을 감싸는 객체, 즉 래퍼객체를 생성한다. 일시적으로 객체화가 되는 것을 허용하며, 그 순간 숫자,문자,조건도 객체처럼 메서드를 쓸 수 있는 것을 말한다.

### **문자열 타입으로 변환**
1) String 생성자 함수를 new 연산자 없이 호출하는 방법
```javascript
  console.log(String(1));
```
2) Object.prototype.toString 메소드를 사용하는 방법
```javascript
  console.log((1).toString());
```
3) 문자열 연결 연산자를 이용하는 방법
```javascript
  console.log(1 + ''); 
```

### **숫자 타입으로 변환**
1) Number 생성자 함수를 new 연산자 없이 호출하는 방법
```javascript
  console.log(Number('0'));  // 문자열 => 숫자
```
2) parseInt, parseFloat 함수를 사용하는 방법(문자열만 변환 가능)
```javascript
  console.log(parseInt('0'));  // 문자열 => 숫자
```
3) + 단항 연결 연산자를 이용하는 방법
```javascript
  console.log(+'0');  // 문자열 => 숫자
  console.log(+true); // 불리언 => 숫자
```
4) * 산술 연산자를 이용하는 방법
```javascript
  console.log('0' * 1);  // 문자열 => 숫자
  console.log(true * 1); // 불리언 => 숫자
```

### **불리언 타입으로 변환**
1) Boolean 생성자 함수를 new 연산자 없이 호출하는 방법
```javascript
  console.log(Boolean('x'));  // 문자열 => 불리언
  console.log(Boolean(1)); // 숫자 => 불리언
```
2) ! 부정 논리 연산자를 두번 사용하는 방법
```javascript
  console.log(!!'x'); // 문자열 => 불리언
```

## **단축평가(Short-Circuit evaluation)**

- 논리합 연산자와 논리곱 연산자의 연산 결과는 불리언 값이 아닐 수 있다.
```javascript
'Cat' && 'Dog' // 'Dog'
```
- **논리 평가를 결정한 피연산자를 그대로 반환한다.**
  - 논리합 연산자인 경우 앞의 결과값이 true면 뒤의 값을 계산할 필요가 없어 앞의 값 반환 / 단 앞의 결과값이 false면 뒤의 값이 논리 연산의 결과를 결정하기 때문에 뒤의 값 반환
  - 논리곱 연산자인 경우 앞의 결과값이 false면 뒤의 값을 계산할 필요가 없어 뒤의 값 반환 / 단 앞의 결과값이 true면 뒤의 값이 논리 연산의 결과를 결정하기 때문에 뒤의 값 반환
- 유용한 경우
  - 객체가 null인지 확인하고 프로퍼티를 참조할 때
    - 객체가 null인 경우 프로퍼티를 참조하면 타입에러가 발생하는데 이때 단축평가를 사용하면 에러를 발생시키지 않는다.
  - 함수 매개변수에 기본값을 설정할때
    - 함수를 호출할 때 인수를 전달하지 않으면 매개변수는 undefined를 갖는다. 이때 단축평가를 사용하여 매개변수의 기본값을 설정하면 undefined로 인해 발생할 수 있는 에러를 방지할 수 있다.

> 매개변수??

> new 연산자??

> !! 부정 논리 연산자 두번 사용하는 방법

> 객체 ??




[참고]  
https://poiemaweb.com/fastcampus/type-casting
